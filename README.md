# 3D META LOGO ğŸŒŒ

![banner](./assets/images/banner.png)

## èƒŒæ™¯

![zack](./assets/images/zack.gif)

### ä»€ä¹ˆæ˜¯å…ƒå®‡å®™

ã€Œå…ƒå®‡å®™ã€çš„å†…æ¶µæ˜¯å¸çº³äº†ä¿¡æ¯é©å‘½ï¼ˆ5G/6G)ã€äº’è”ç½‘é©å‘½ï¼ˆweb3.0ï¼‰ã€äººå·¥æ™ºèƒ½é©å‘½ï¼Œä»¥åŠ VRã€ARã€MRï¼Œç‰¹åˆ«æ˜¯æ¸¸æˆå¼•æ“åœ¨å†…çš„è™šæ‹Ÿç°å®æŠ€æœ¯é©å‘½çš„æˆæœï¼Œå‘äººç±»å±•ç°å‡ºæ„å»ºä¸ä¼ ç»Ÿç‰©ç†ä¸–ç•Œå¹³è¡Œçš„å…¨æ¯æ•°å­—ä¸–ç•Œçš„å¯èƒ½æ€§ï¼›å¼•å‘äº†ä¿¡æ¯ç§‘å­¦ã€é‡å­ç§‘å­¦ï¼Œæ•°å­¦å’Œç”Ÿå‘½ç§‘å­¦çš„äº’åŠ¨ï¼Œæ”¹å˜ç§‘å­¦èŒƒå¼ï¼›æ¨åŠ¨äº†ä¼ ç»Ÿçš„å“²å­¦ã€ç¤¾ä¼šå­¦ç”šè‡³äººæ–‡ç§‘å­¦ä½“ç³»çš„çªç ´ï¼›å›Šæ‹¬äº†æ‰€æœ‰çš„æ•°å­—æŠ€æœ¯ï¼ŒåŒ…æ‹¬åŒºå—é“¾æŠ€æœ¯æˆå°±ï¼›ä¸°å¯Œäº†æ•°å­—ç»æµè½¬å‹æ¨¡å¼ï¼Œèåˆ DeFiã€IPFSã€NFT ç­‰æ•°å­—é‡‘èæˆæœã€‚

â€”â€”â€”æ•°å­—èµ„äº§ç ”ç©¶é™¢å­¦æœ¯ä¸æŠ€æœ¯å§”å‘˜ä¼šä¸»ä»»æœ±å˜‰æ˜æ•™æˆ

æºèµ·

ã€ŒMetaverseã€ä¸€è¯ç”±å‰ç¼€ã€Œmetaã€ï¼ˆæ„ä¸ºã€Œè¶…è¶Šã€ã€Œå…ƒã€ï¼‰å’Œè¯æ ¹ã€Œverseã€ï¼ˆæºäº universeã€Œå®‡å®™ã€ï¼‰ç»„æˆï¼Œç›´è¯‘è€Œæ¥ä¾¿æ˜¯ã€Œå…ƒå®‡å®™ã€ã€‚è¿™ä¸€æ¦‚å¿µæœ€æ—©å‡ºè‡ªäºå°¼å°”Â·æ–¯è’‚èŠ¬æ£® 1992 å¹´å‡ºç‰ˆçš„ç§‘å¹»å°è¯´ã€Šé›ªå´©ã€‹(Snow Crash)ï¼ŒæŒ‡åœ¨ä¸€ä¸ªè„±ç¦»äºç‰©ç†ä¸–ç•Œï¼Œå´å§‹ç»ˆåœ¨çº¿çš„å¹³è¡Œæ•°å­—ä¸–ç•Œä¸­ï¼Œäººä»¬èƒ½å¤Ÿåœ¨å…¶ä¸­ä»¥è™šæ‹Ÿäººç‰©è§’è‰² (avatar) è‡ªç”±ç”Ÿæ´»ã€‚



ä»€ä¹ˆæ˜¯å…ƒå®‡å®™



å…ƒå®‡å®™è¿™ä¸ªè¯æºäº 1992 å¹´å°¼å°”Â·æ–¯è’‚èŠ¬æ£®çš„ã€Šé›ªå´©ã€‹ï¼Œè¿™æœ¬ä¹¦æè¿°äº†ä¸€ä¸ªå¹³è¡Œäºç°å®ä¸–ç•Œçš„è™šæ‹Ÿä¸–ç•Œï¼ŒMetaverseï¼Œæ‰€æœ‰ç°å®ç”Ÿæ´»ä¸­çš„äººéƒ½æœ‰ä¸€ä¸ªç½‘ç»œåˆ†èº« Avatarã€‚ç»´åŸºç™¾ç§‘å¯¹å…ƒå®‡å®™çš„æè¿°æ˜¯ï¼šé€šè¿‡è™šæ‹Ÿå¢å¼ºçš„ç‰©ç†ç°å®ï¼Œå‘ˆç°æ”¶æ•›æ€§å’Œç‰©ç†æŒä¹…æ€§ç‰¹å¾çš„ï¼ŒåŸºäºæœªæ¥äº’è”ç½‘ï¼Œå…·æœ‰é“¾æ¥æ„ŸçŸ¥å’Œå…±äº«ç‰¹å¾çš„ 3D è™šæ‹Ÿç©ºé—´ã€‚



æ­£å¦‚ç”µå½±ã€Šå¤´å·ç©å®¶ã€‹çš„åœºæ™¯ï¼Œåœ¨æœªæ¥çš„æŸä¸€å¤©ï¼Œäººä»¬å¯ä»¥éšæ—¶éšåœ°åˆ‡æ¢èº«ä»½ï¼Œè‡ªç”±ç©¿æ¢­äºç‰©ç†ä¸–ç•Œå’Œæ•°å­—ä¸–ç•Œï¼Œåœ¨è™šæ‹Ÿç©ºé—´å’Œæ—¶é—´èŠ‚ç‚¹æ‰€æ„æˆçš„ã€Œå…ƒå®‡å®™ã€ä¸­å­¦ä¹ ã€å·¥ä½œã€äº¤å‹ã€è´­ç‰©ã€æ—…æ¸¸ç­‰ã€‚å…ƒå®‡å®™ï¼Œè¿™ä¸ªå»ºç«‹åœ¨åŒºå—é“¾ä¹‹ä¸Šçš„è™šæ‹Ÿä¸–ç•Œï¼Œå»ä¸­å¿ƒåŒ–å¹³å°è®©ç©å®¶äº«æœ‰æ‰€æœ‰æƒå’Œè‡ªæ²»æƒã€‚é€šè¿‡æ²‰æµ¸å¼çš„ä½“éªŒï¼Œè®©è™šæ‹Ÿè¿›ä¸€æ­¥æ¥è¿‘ç°å®ã€‚



## æ•ˆæœ

![preview](./assets/images/preview.gif)

> åœ¨çº¿é¢„è§ˆ

## å®ç°

### ç‰ˆæœ¬1

```js
function init() {

  var stats = initStats();
  var renderer = initRenderer();
  var camera = initCamera();
  var scene = new THREE.Scene();
  initDefaultLighting(scene);
  var groundPlane = addLargeGroundPlane(scene)
  groundPlane.position.y = -30;

  var step = 0;
  var spGroup;

  var controls = new function () {
    this.appliedMaterial = applyMeshNormalMaterial
    this.castShadow = true;
    this.groundPlaneVisible = true;
    this.numberOfPoints = 20;
    this.deafultpoints = [
      [0, 0.4, -0.4],
      [0.4, 0, 0],
      [0.4, 0.8, 0.4],
      [0, 0.4, 0.4],
      [-0.4, 0, 0],
      [-0.4, 0.8, -0.4],
      [0, 0.4, -0.4]
    ]
    this.segments = 64;
    this.radius = 1;
    this.radiusSegments = 8;
    // æ˜¯å¦é—­åˆ
    this.closed = true;
    this.points = [];
    // we need the first child, since it's a multimaterial

    this.newPoints = function () {
      var points = [];
      for (var i = 0; i < controls.deafultpoints.length; i++) {
        var _x = controls.deafultpoints[i][0] * 22;
        var _y = controls.deafultpoints[i][1] * 22;
        var _z = controls.deafultpoints[i][2] * 22;
        points.push(new THREE.Vector3(_x, _y, _z));
      }
      controls.points = points;
      controls.redraw();
    };

    this.redraw = function () {
      redrawGeometryAndUpdateUI(gui, scene, controls, function() {
        return generatePoints(controls.points, controls.segments, controls.radius, controls.radiusSegments,
          controls.closed);
      });
    };

  };

  var gui = new dat.GUI();
  gui.add(controls, 'newPoints');
  gui.add(controls, 'numberOfPoints', 2, 200).step(1).onChange(controls.newPoints);
  gui.add(controls, 'segments', 0, 200).step(1).onChange(controls.redraw);
  gui.add(controls, 'radius', 0, 10).onChange(controls.redraw);
  gui.add(controls, 'radiusSegments', 0, 200).step(1).onChange(controls.redraw);
  gui.add(controls, 'closed').onChange(controls.redraw);
  gui.add(controls, 'appliedMaterial', {
    meshNormal: applyMeshNormalMaterial,
    meshStandard: applyMeshStandardMaterial
  }).onChange(controls.redraw)

  gui.add(controls, 'castShadow').onChange(function(e) {controls.mesh.castShadow = e})
  gui.add(controls, 'groundPlaneVisible').onChange(function(e) {groundPlane.material.visible = e})

  controls.newPoints();

  render();

  function generatePoints(points, segments, radius, radiusSegments, closed) {
    if (spGroup) scene.remove(spGroup)
    spGroup = new THREE.Object3D();
    var material = new THREE.MeshBasicMaterial({
      color: 0xff0000,
      transparent: false
    });
    points.forEach(function (point) {

      var spGeom = new THREE.SphereGeometry(0.1);
      var spMesh = new THREE.Mesh(spGeom, material);
      spMesh.position.copy(point);
      spGroup.add(spMesh);
    });
    // add the points as a group to the scene
    scene.add(spGroup);
    return new THREE.TubeGeometry(new THREE.CatmullRomCurve3(points), segments, radius, radiusSegments, closed);
  }

  function render() {
    stats.update();
    controls.mesh.rotation.y = step
    controls.mesh.rotation.x = step += 0.01
    controls.mesh.rotation.z = step

    if (spGroup) {
      spGroup.rotation.y = step
      spGroup.rotation.x = step
      spGroup.rotation.z = step
    }

    requestAnimationFrame(render);
    renderer.render(scene, camera);
  }
}
```

### ç‰ˆæœ¬2

#### å»ºæ¨¡

![bilibili](./assets/images/bilibili.png)

> https://www.bilibili.com/video/BV1Bf4y1T7ce

#### ä»£ç å®ç°

```html
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>3D META LOGO</title>
  <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover">
  <meta name="keywords" content="meta,facebook,Mark Elliot Zuckerberg">
  <meta name="description" content="meta,facebook,Mark Elliot Zuckerberg">
  <meta name="apple-mobile-web-app-capable" content="yes"  />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="shortcut icon" href="./assets/images/logo.png">
  <link rel="apple-touch-icon" href="./assets/images/logo.png"/>
  <link rel="apple-touch-icon-precomposed" href="./assets/images/logo.png">
  <link rel="Bookmark" href="./assets/images/logo.png" />
  <style>
    :root {
      --themeColor: #0072ff;
      --secondColor: #00c6ff;
    }
    * {
      margin: 0;
      padding: 0;
    }
    html {
      background: var(--themeColor);
      background: -webkit-linear-gradient(to left, var(--themeColor) , var(--secondColor));
      background: linear-gradient(to left, var(--themeColor), var(--secondColor));
    }
    body {
      background: url('./assets/images/bg.png') no-repeat bottom right;
      background-size: contain;
      font-family: Arial, Helvetica, sans-serif;
    }
    .loading {
      position: fixed;
      height: 100%;
      width: 100%;
      left: 0;
      top: 0;
      background: #FFFFFF;
    }
    .loading .content {
      height: 330px;
      width: 540px;
      position: absolute;
      top: 50%;
      left: 50%;
      margin-top: -165px;
      margin-left: -270px;
    }
    .loading .content .banner {
      display: inline-block;
      width: 540px;
      height: 303px;
      background: url('./assets/images/meta.gif') no-repeat center;
      background-size: 100% 100%;
    }
    .loading .content {
      text-align: center;
      font-size: 20px;
      color: #666666;
    }
    .loading .content span {
      color: var(--themeColor);
      padding-left: 8px;
    }
    .logo {
      position: absolute;
      top: 56px;
      left: 56px;
      width: 321px;
      height: 64.875px;
      background: url('./assets/images/icon.png') no-repeat center;
      background-size: 100% 100%;
      filter: drop-shadow(0px 1px 5px rgba(255, 255, 255, .2));
    }
  </style>
</head>

<body>
  <i class="logo"></i>
  <div class="loading" id="loading">
    <div class="content">
      <i class="banner"></i>
      <p class="text">åŠ è½½è¿›åº¦<span id="progress">0%</span></p>
    </div>
  <div>
  <script src="./assets/libs/three.js"></script>
  <script src="./assets/libs/loaders/FBXLoader.js"></script>
  <script src="./assets/libs/inflate.min.js"></script>
  <script src="./assets/libs/OrbitControls.js"></script>
  <script src="./assets/libs/stats.js"></script>
  <script>
    var container, stats, controls, compose;
    var camera, scene, renderer, light, clickableObjects = [];
    var clock = new THREE.Clock();
    var mixer, mixerArr = [], manMixer;
    init();
    animate();
    function init() {
      container = document.createElement('div');
      document.body.appendChild(container);
      // åœºæ™¯
      scene = new THREE.Scene();
      scene.transparent = true;
      scene.opacity = 0.1;
      scene.fog = new THREE.Fog(0xa0a0a0, 200, 1000);
      // é€è§†ç›¸æœºï¼šè§†åœºã€é•¿å®½æ¯”ã€è¿‘é¢ã€è¿œé¢
      camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.set(0, 4, 16);
      camera.lookAt(new THREE.Vector3(0, 0, 0));
      // åŠçƒå…‰æºï¼šåˆ›å»ºå®¤å¤–æ•ˆæœæ›´åŠ è‡ªç„¶çš„å…‰æº
      light = new THREE.HemisphereLight(0xefefef);
      light.position.set(0, 20, 0);
      scene.add(light);
      // å¹³è¡Œå…‰
      light = new THREE.DirectionalLight(0x2d2d2d);
      light.position.set(0, 20, 10);
      light.castShadow = true;
      scene.add(light);
      // ç¯å¢ƒå…‰
      var ambientLight = new THREE.AmbientLight(0xffffff, .5);
      scene.add(ambientLight);
      // ç½‘æ ¼
      var grid = new THREE.GridHelper(100, 100, 0xffffff, 0xffffff);
      grid.position.set(0, -10, 0);
      grid.material.opacity = 0.3;
      grid.material.transparent = true;
      scene.add(grid);
      // åŠ è½½æ¨¡å‹
      var loader = new THREE.FBXLoader();
      var texLoader = new THREE.TextureLoader();
      loader.load('assets/models/meta.fbx', function (mesh) {
        mesh.traverse(function (child) {
          if (child.isMesh) {
            child.castShadow = true;
            child.receiveShadow = true;
            // éšè—å¤šä½™ç‰©ä½“
            if (child.name === 'çƒä½“' || child.name === 'çƒä½“001') {
              child.visible = false
            }
            // è®¾ç½®æè´¨
            if (child.name === 'è´å¡å°”åœ†') {
              clickableObjects.push(child)
              child.material = new THREE.MeshPhysicalMaterial({
                map: texLoader.load("./assets/images/metal.png"),
                metalness: .2,
                roughness: 0.1,
                exposure: 0.4
              });
            }
          }
        });
        mesh.rotation.y = Math.PI / 2;
        mesh.position.set(0, 1, 0);
        mesh.scale.set(0.05, 0.05, 0.05);
        scene.add(mesh);
        mesh.animations.map(item => {
          let animationType = item.name.split('|')[0];
          mesh.traverse(child => {
            if (child.name === animationType && (child.name === 'è´å¡å°”åœ†')) {
              console.log(child.name)
              let mixer = new THREE.AnimationMixer(child);
              mixerArr.push(mixer);
              let animationClip = item;
              animationClip.duration = 8;
              let clipAction = mixer.clipAction(animationClip).play();
              animationClip = clipAction.getClip();
            }
          })
        })
      });

      // åŠ è½½äººç‰©
      loader.load('assets/models/man.fbx', function (mesh) {
        mesh.traverse(function (child) {
          if (child.isMesh) {
            child.castShadow = true;
            child.receiveShadow = true;
          }
        });
        mesh.rotation.y = Math.PI / 2;
        mesh.position.set(-14, -8.4, -3);
        mesh.scale.set(0.085, 0.085, 0.085);
        scene.add(mesh);
        manMixer = new THREE.AnimationMixer(mesh);
        let animationClip = mesh.animations[0];
        let clipAction = manMixer.clipAction(animationClip).play();
        animationClip = clipAction.getClip();
      }, res => {
        let progress = (res.loaded / res.total * 100).toFixed(0);
        document.getElementById('progress').innerText = progress + '%';
        if (Number(progress) === 100) {
          document.getElementById('loading').style.display = 'none';
        }
      }, err => {
        console.log(err)
      });

      renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.outputEncoding = THREE.sRGBEncoding;
      renderer.setSize(window.innerWidth, window.innerHeight);
      // èƒŒæ™¯è‰²è®¾ç½®ä¸ºé€æ˜
      renderer.setClearAlpha(0);
      // å¼€å¯é˜´å½±
      renderer.shadowMap.enabled = true;
      container.appendChild(renderer.domElement);
      // æ·»åŠ é•œå¤´æ§åˆ¶å™¨
      controls = new THREE.OrbitControls(camera, renderer.domElement);
      controls.target.set(0, 0, 0);
      controls.update();
      window.addEventListener('resize', onWindowResize, false);
      // statsï¼šåˆå§‹åŒ–æ€§èƒ½æ’ä»¶
      stats = new Stats();
      container.appendChild(stats.dom);
    }
    // å±å¹•ç¼©æ”¾
    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }
    // é¡µé¢æ›´æ–°
    function animate() {
      renderer.render(scene, camera);
      let time = clock.getDelta();
      mixerArr.map(mixer => {
        mixer && mixer.update(time);
      })
      manMixer && manMixer.update(time)
      stats.update();
      requestAnimationFrame(animate);
    }
    // å¢åŠ ç‚¹å‡»äº‹ä»¶
    //å£°æ˜raycasterå’Œmouseå˜é‡
    var raycaster = new THREE.Raycaster();
    var mouse = new THREE.Vector2();
    function onMouseClick(event) {
      // é€šè¿‡é¼ æ ‡ç‚¹å‡»çš„ä½ç½®è®¡ç®—å‡ºraycasteræ‰€éœ€è¦çš„ç‚¹çš„ä½ç½®ï¼Œä»¥å±å¹•ä¸­å¿ƒä¸ºåŸç‚¹ï¼Œå€¼çš„èŒƒå›´ä¸º-1åˆ°1.
      mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
      mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;
      // é€šè¿‡é¼ æ ‡ç‚¹çš„ä½ç½®å’Œå½“å‰ç›¸æœºçš„çŸ©é˜µè®¡ç®—å‡ºraycaster
      raycaster.setFromCamera(mouse, camera);
      // è·å–raycasterç›´çº¿å’Œæ‰€æœ‰æ¨¡å‹ç›¸äº¤çš„æ•°ç»„é›†åˆ
      let intersects = raycaster.intersectObjects(clickableObjects);
      if (intersects.length > 0) {
        console.log(intersects[0].object)
        let selectedObj = intersects[0].object;
        selectedObj.material = new THREE.MeshStandardMaterial({
          color: `#${Math.random().toString(16).slice(-6)}`,
          metalness: Math.random(),
          roughness: Math.random()
        })
      }
    }
    window.addEventListener('click', onMouseClick, false);
  </script>
</body>
</html>
```

#### åŠ è½½æ¨¡å‹

#### åŠ¨ç”»

#### loading

#### ç‚¹å‡»æ›´æ¢æè´¨

#### ç‚¹å‡»æ·»åŠ é«˜äº®è¾¹æ¡†

## æ€»ç»“

## å‚è€ƒèµ„æ–™

* [1]. [ä»€ä¹ˆæ˜¯å…ƒå®‡å®™ï¼Ÿ](https://zhuanlan.zhihu.com/p/392257538)
* [2]. [Adobeå…è´¹æ¨¡å‹ä¸‹è½½](https://www.mixamo.com)
